!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("OUYO",[],n):"object"==typeof exports?exports.OUYO=n():t.OUYO=n()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=0)}([function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(1);e.d(n,"Engine",function(){return r.a});var i=e(4);e.d(n,"component",function(){return i.a})},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.d(n,"a",function(){return u});var i=e(2),o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),u=function(){function t(){r(this,t),this.entities=null,this.dirtyEntites=[],this.queries=[],this.addToDirty=this.addToDirty.bind(this)}return o(t,[{key:"createEntity",value:function(){var t=new i.a(this.entities,this.addToDirty);return this.entities=t,t}},{key:"addToDirty",value:function(t){this.dirtyEntites.push(t)}},{key:"removeEntity",value:function(t){var n=t.next;null!==t.next&&(t.next.prev=t.prev,t.next=null),null!==t.prev&&(t.prev.next=t.next,t.prev=null),(this.entities=t)&&(this.entities=n)}}]),t}()},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t){return t&&void 0!==t.index}e.d(n,"a",function(){return a});var o=e(3),u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),a=function(){function t(n){var e=n.componentIdMap,i=n.onKeyChanged;r(this,t),this.components=[],this.componentIdMap=e,this.key=new o.a,this.prev=null,this.next=null,this.keyChangeAnnounced=!1,this.onKeyChanged=i}return u(t,[{key:"add",value:function(t){this.componentIdMap[t._componentId];if(this.components[index])throw"Entity.add(): Component already present";return this.key.setBit(index,!0),this.components[index]=t,this}},{key:"get",value:function(t){if(!i(t))throw new Error("Entity.get(): Argument is not a component class");var n=this.components[t.index];if(!n)throw new Error("Entity.get(): Requested component is not present");return n}},{key:"remove",value:function(t){var n=t.index;return this.components[n]&&this.setDirty(!0),this.key.setBit(n,!1),this.components[n]=null,this}},{key:"setDirty",value:function(t){!this.dirty&&t&&this.announceDirty(this),this.dirty=t}}]),t}()},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.d(n,"a",function(){return a});for(var i=(function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}()),o=[],u=0;u<31;u++)o[u]=Math.pow(2,u);var a=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r(this,t),this.values=[];for(var e=0;e<n.length;e++)this.setBit(n[e],!0)}return i(t,[{key:"setBit",value:function(t,n){for(;31*this.values.length<=t;)this.values.push(0);for(var e=0;t>=31;)e++,t-=31;var r=0!=(this.values[e]&o[t]);n&&!r?this.values[e]+=o[t]:!n&&r&&(this.values[e]-=o[t])}},{key:"matches",value:function(t){for(var n=0;n<t.values.length;n++){var e=this.values[n]||0,r=t.values[n];if((e&r)!==r)return!1}return!0}}]),t}()},function(t,n,e){"use strict";function r(t,n){var e=new i.a(t),r={id:o++,create:function(){if(e.isEmpty())return new(Function.prototype.bind.apply(t,[null].concat(Array.prototype.slice.call(arguments))));var n=e.get();return t.apply(n,arguments),n},destroy:function(t){n&&n.apply(t),e.put(t)}};return t.prototype._componentId=r.id,r}n.a=r;var i=e(5),o=0},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.d(n,"a",function(){return o});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=function(){function t(){r(this,t),this.objects=[]}return i(t,[{key:"put",value:function(t){this.objects.push(t)}},{key:"get",value:function(){return this.objects.pop(object)}},{key:"isEmpty",value:function(){return 0===this.objects.length}}]),t}()}])});
//# sourceMappingURL=ouyo.js.map